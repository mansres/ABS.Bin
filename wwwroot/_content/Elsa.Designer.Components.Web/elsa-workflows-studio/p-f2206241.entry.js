import{r as e,h as a}from"./p-9ac75b7d.js";import{c as s}from"./p-c912e9a0.js";import{a as l}from"./p-f0c26962.js";import{T as t}from"./p-fc89621a.js";import"./p-bd8b186e.js";import"./p-80452beb.js";import"./p-adbb57a5.js";import"./p-52f280e6.js";import"./p-83f217d4.js";const r=class{constructor(a){e(this,a),this.webhookDefinitions={items:[],page:1,pageSize:50,totalCount:0}}async componentWillLoad(){await this.loadWebhookDefinitions()}async onDeleteClick(e,a){if(!await this.confirmDialog.show("Delete Webhook Definition","Are you sure you wish to permanently delete this webhook?"))return;const s=this.createClient();await s.webhookDefinitionsApi.delete(a.id),await this.loadWebhookDefinitions()}async loadWebhookDefinitions(){const e=this.createClient();this.webhookDefinitions=await e.webhookDefinitionsApi.list(0,50)}createClient(){return l(this.serverUrl)}render(){const e=s.orderBy(this.webhookDefinitions,"name"),l=this.basePath;return a("div",null,a("div",{class:"elsa-align-middle elsa-inline-block elsa-min-w-full elsa-border-b elsa-border-gray-200"},a("table",{class:"elsa-min-w-full"},a("thead",null,a("tr",{class:"elsa-border-t elsa-border-gray-200"},a("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider"},a("span",{class:"lg:elsa-pl-2"},"Name")),a("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider"},"Path"),a("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider"},"Payload Type Name"),a("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider"},"Enabled"),a("th",{class:"elsa-pr-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-right elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-uppercase elsa-tracking-wider"}))),a("tbody",{class:"elsa-bg-white elsa-divide-y elsa-divide-gray-100"},s.map(e,(e=>{const s=e;let t=s.name;t&&0!=t.trim().length||(t=s.name),t&&0!=t.trim().length||(t="Untitled");const i=`${l}/webhook-definitions/${s.id}`,r=a("svg",{class:"elsa-h-5 elsa-w-5 elsa-text-gray-500",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},a("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),a("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})),o=a("svg",{class:"elsa-h-5 elsa-w-5 elsa-text-gray-500",width:"24",height:"24",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round"},a("path",{stroke:"none",d:"M0 0h24v24H0z"}),a("line",{x1:"4",y1:"7",x2:"20",y2:"7"}),a("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),a("line",{x1:"14",y1:"11",x2:"14",y2:"17"}),a("path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12"}),a("path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3"}));return a("tr",null,a("td",{class:"elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-font-medium elsa-text-gray-900"},a("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},a("stencil-route-link",{url:i,anchorClass:"elsa-truncate hover:elsa-text-gray-600"},a("span",null,t)))),a("td",{class:"elsa-px-6 elsa-py-3 elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-font-medium"},a("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},s.path)),a("td",{class:"elsa-px-6 elsa-py-3 elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-font-medium"},a("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},s.payloadTypeName)),a("td",{class:"elsa-px-6 elsa-py-3 elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-font-medium"},a("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},1==s.isEnabled?"Yes":"No")),a("td",{class:"elsa-pr-6"},a("elsa-context-menu",{history:this.history,menuItems:[{text:"Edit",anchorUrl:i,icon:r},{text:"Delete",clickHandler:e=>this.onDeleteClick(e,s),icon:o}]})))}))))),a("elsa-confirm-dialog",{ref:e=>this.confirmDialog=e}))}};t.injectProps(r,["serverUrl","culture","basePath"]);export{r as elsa_webhook_definitions_list_screen};