import{r as e,h as s}from"./p-9ac75b7d.js";import{c as a}from"./p-c912e9a0.js";import{a as l}from"./p-f0c26962.js";import{T as t}from"./p-fc89621a.js";import"./p-bd8b186e.js";import"./p-80452beb.js";import"./p-adbb57a5.js";import"./p-52f280e6.js";import"./p-83f217d4.js";const r=class{constructor(s){e(this,s),this.workflowBlueprints={items:[],page:1,pageSize:50,totalCount:0}}async componentWillLoad(){await this.loadWorkflowBlueprints()}async loadWorkflowBlueprints(){const e=this.createClient();this.workflowBlueprints=await e.workflowRegistryApi.list(0,50,{allVersions:!0})}createClient(){return l(this.serverUrl)}render(){const e=a.groupBy(this.workflowBlueprints.items,"id"),l=this.basePath;return s("div",null,s("div",{class:"elsa-align-middle elsa-inline-block elsa-min-w-full elsa-border-b elsa-border-gray-200"},s("table",{class:"elsa-min-w-full"},s("thead",null,s("tr",{class:"elsa-border-t elsa-border-gray-200"},s("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-text-left elsa-uppercase elsa-tracking-wider"},s("span",{class:"lg:elsa-pl-2"},"Name")),s("th",{class:"elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-left elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-text-left elsa-uppercase elsa-tracking-wider"},"Instances"),s("th",{class:"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-text-right elsa-uppercase elsa-tracking-wider"},"Latest Version"),s("th",{class:"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-text-right elsa-uppercase elsa-tracking-wider"},"Published Version"),s("th",{class:"elsa-pr-6 elsa-py-3 elsa-border-b elsa-border-gray-200 elsa-bg-gray-50 elsa-text-xs elsa-leading-4 elsa-font-medium elsa-text-gray-500 elsa-text-left elsa-uppercase elsa-tracking-wider"}))),s("tbody",{class:"elsa-bg-white elsa-divide-y elsa-divide-gray-100"},a.map(e,(e=>{const t=a.orderBy(e,"version","desc"),r=t[0],i=r.version,o=t.find((e=>e.isPublished)),n=o?o.version:"-";let d=r.displayName;d&&0!=d.trim().length||(d=r.name),d&&0!=d.trim().length||(d="Untitled");const p=`${l}/workflow-registry/${r.id}`,c=`${l}/workflow-instances?workflow=${r.id}`,g=s("svg",{class:"elsa-h-5 elsa-w-5 elsa-text-gray-500",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},s("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),s("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}));return s("tr",null,s("td",{class:"elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-font-medium elsa-text-gray-900"},s("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},s("stencil-route-link",{url:p,anchorClass:"elsa-truncate hover:elsa-text-gray-600"},s("span",null,d)))),s("td",{class:"elsa-px-6 elsa-py-3 elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-font-medium"},s("div",{class:"elsa-flex elsa-items-center elsa-space-x-3 lg:elsa-pl-2"},s("stencil-route-link",{url:c,anchorClass:"elsa-truncate hover:elsa-text-gray-600"},"Instances"))),s("td",{class:"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-text-right"},i),s("td",{class:"hidden md:elsa-table-cell elsa-px-6 elsa-py-3 elsa-whitespace-no-wrap elsa-text-sm elsa-leading-5 elsa-text-gray-500 elsa-text-right"},n),s("td",{class:"elsa-pr-6"},s("elsa-context-menu",{history:this.history,menuItems:[{text:"Edit",anchorUrl:p,icon:g}]})))}))))))}};t.injectProps(r,["serverUrl","culture","basePath"]);export{r as elsa_workflow_registry_list_screen};