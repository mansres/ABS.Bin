import{c as n,a as r}from"./p-bd8b186e.js";const t=new(n((function(e){e.exports=function(){this.listeners={},this.registerListener=function(n,r,t){var i=n.constructor.name;t=this.validateNumber(t||"any"),"Array"!==i&&(n=[n]),n.forEach((function(n){if("String"!==n.constructor.name)throw new Error("Only `String` and array of `String` are accepted for the event names!");e.listeners[n]=e.listeners[n]||[],e.listeners[n].push({callback:r,number:t})}))},this.validateNumber=function(e){var n=e.constructor.name;if("Number"===n)return e;if("String"===n&&"any"===e.toLowerCase())return"any";throw new Error("Only `Number` and `any` are accepted in the number of possible executions!")},this.toBeRemoved=function(e){var n=e.number;return e.execution=e.execution||0,e.execution++,!("any"===n||e.execution<n)};var e=this;return{on:function(n,r){e.registerListener.bind(e)(n,r,"any")},once:function(n,r){e.registerListener.bind(e)(n,r,1)},exactly:function(n,r,t){e.registerListener.bind(e)(r,t,n)},die:function(n){delete e.listeners[n]},off:function(e){this.die(e)},detach:function(n,r){if(void 0===r)return e.listeners[n]=[],!0;for(var t in e.listeners[n])if(e.listeners[n].hasOwnProperty(t)&&e.listeners[n][t].callback===r)return e.listeners[n].splice(t,1),this.detach(n,r);return!0},detachAll:function(){for(var n in e.listeners)e.listeners.hasOwnProperty(n)&&this.detach(n)},emit:function(n,r){var t=[];for(name in e.listeners)if(e.listeners.hasOwnProperty(name)&&(name===n&&Array.prototype.push.apply(t,e.listeners[name]),name.indexOf("*")>=0)){var i=name.replace(/\*\*/,"([^.]+.?)+");i=i.replace(/\*/g,"[^.]+");var s=n.match(i);s&&n===s[0]&&Array.prototype.push.apply(t,e.listeners[name])}var a=arguments;r=r||this,t.forEach((function(t,i){var s=t.callback;r&&(s=s.bind(r));var o=[];Object.keys(a).map((function(e){e>1&&o.push(a[e])})),e.toBeRemoved(t)&&e.listeners[n].splice(i,1),s.apply(null,o)}))}}},e.exports.default=e.exports})));export{t as e};