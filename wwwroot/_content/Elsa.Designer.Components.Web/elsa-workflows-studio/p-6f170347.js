import{e as s}from"./p-adbb57a5.js";import{S as t}from"./p-52f280e6.js";import{E as i}from"./p-80452beb.js";import"./p-c912e9a0.js";import{h as r,g as n,s as e,p as o}from"./p-ab6c762d.js";import{h as a}from"./p-9ac75b7d.js";import{p as c}from"./p-a43b4900.js";import{a as p}from"./p-60999205.js";class l{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("If"!==s.type)return;const t=(s.properties||[]).find((i=>"Condition"==i.name))||{name:"Condition",expressions:{Literal:""},syntax:"Literal"},e=s.description,n=r(e&&e.length>0?e:t.expressions[t.syntax]||"");i.bodyDisplay=`<p>${n}</p>`}}class y{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDisplaying)}onActivityDisplaying(i){const s=i.activityModel;if("HttpEndpoint"!==s.type)return;const e=(s.properties||[]).find((i=>"Path"==i.name))||{name:"Path",expressions:{Literal:"",syntax:t.Literal}},n=r(e.expressions[e.syntax||t.Literal]);i.bodyDisplay=`<p>${n}</p>`}}class u{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("Timer"!==s.type)return;const t=(s.properties||[]).find((i=>"Timeout"==i.name))||{name:"Timeout",expressions:{Literal:""},syntax:"Literal"},e=r(t.expressions[t.syntax]||"");i.bodyDisplay=`<p>${e}</p>`}}class h{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("WriteLine"!==s.type)return;const e=(s.properties||[]).find((i=>"Text"==i.name))||{name:"Text",expressions:{Literal:""},syntax:t.Literal};i.bodyDisplay=`<p>${r(e.expressions[e.syntax||"Literal"]||"")}</p>`}}class d{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("SendEmail"!==s.type)return;const e=(s.properties||[]).find((i=>"To"==i.name))||{expressions:{Json:""},syntax:t.Json},n=s.description,o=r(n&&n.length>0?n:e.expressions[e.syntax||t.Json]||"");i.bodyDisplay=`<p>To: ${o}</p>`}}class D{display(i,s){const t=n(i,s.name);return a("elsa-check-list-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class g{display(i,s){const t=n(i,s.name);return a("elsa-checkbox-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class x{display(i,s){const t=n(i,s.name),e=s.options||{},o=this.getEditorHeight(e);return a("elsa-script-property",{propertyDescriptor:s,propertyModel:t,"editor-height":o,syntax:e.syntax,context:e.context})}update(i,s,t){const n=t.get(s.name);e(i,s.name,n,"Literal")}getEditorHeight(i){switch(i.editorHeight||"Default"){case"Large":return"20em";case"Default":default:return"8em"}}}class f{display(i,s){const t=n(i,s.name);return a("elsa-dropdown-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class m{display(i,s){const t=n(i,s.name);return a("elsa-json-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class A{display(i,s){const t=n(i,s.name);return a("elsa-multi-text-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class v{display(i,s){const t=n(i,s.name);return a("elsa-multi-line-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class w{display(i,s){const t=n(i,s.name);return a("elsa-radio-list-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class L{display(i,s){const t=n(i,s.name);return a("elsa-single-line-property",{propertyDescriptor:s,propertyModel:t})}}class S{display(i,s){const t=n(i,s.name);return a("elsa-switch-cases-property",{propertyDescriptor:s,propertyModel:t})}update(i,s,t){}}class b{constructor(){this.addDriver("single-line",(()=>new L)),this.addDriver("multi-line",(()=>new v)),this.addDriver("json",(()=>new m)),this.addDriver("check-list",(()=>new D)),this.addDriver("radio-list",(()=>new w)),this.addDriver("checkbox",(()=>new g)),this.addDriver("dropdown",(()=>new f)),this.addDriver("multi-text",(()=>new A)),this.addDriver("code-editor",(()=>new x)),this.addDriver("switch-case-builder",(()=>new S))}addDriver(i,s){c.addDriver(i,s)}}class j{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("Fork"!==s.type)return;const e=t.Json,n=((s.properties||[]).find((i=>"Branches"==i.name))||{expressions:{Json:"[]"},syntax:e}).expressions[e]||[];i.outcomes=n.$values?n.$values:Array.isArray(n)?n:o(n)||[]}}class ${constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("RunJavaScript"!==s.type)return;const e=((s.properties||[]).find((i=>"PossibleOutcomes"==i.name))||{expressions:{Json:""},syntax:t.Json}).expressions[t.Json]||[];i.outcomes=Array.isArray(e)?e:o(e)||["Done"],0==i.outcomes.length&&(i.outcomes=["Done"])}}class M{constructor(){s.on(i.ActivityDescriptorDisplaying,this.onActivityDescriptorDisplaying),s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDescriptorDisplaying(i){const s=p.getIcon(i.activityDescriptor.type);s&&(i.activityIcon=s)}onActivityDesignDisplaying(i){const s=p.getIcon(i.activityModel.type);s&&(i.activityIcon=s)}}class T{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel,t=i.activityDescriptor.inputProperties.filter((i=>"switch-case-builder"==i.uiHint));if(0==t.length)return;let e={};for(const i of t){const t=((s.properties||[]).find((s=>s.name==i.name))||{expressions:{Switch:""},syntax:"Switch"}).expressions.Switch||[],n=t.$values?t.$values:Array.isArray(t)?t:o(t)||[];for(const i of n)e[i.name]=!0}const n=Object.keys(e);i.outcomes=[...n,"Default"]}}class C{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("While"!==s.type)return;const t=(s.properties||[]).find((i=>"Condition"==i.name))||{name:"Condition",expressions:{Literal:""},syntax:"Literal"},e=s.description,n=r(e&&e.length>0?e:t.expressions[t.syntax]||"");i.bodyDisplay=`<p>${n}</p>`}}class P{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("StartAt"!==s.type)return;const t=(s.properties||[]).find((i=>"Instant"==i.name))||{name:"Instant",expressions:{Literal:""},syntax:"Literal"},e=r(t.expressions[t.syntax]||"");i.bodyDisplay=`<p>${e}</p>`}}class k{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("Cron"!==s.type)return;const t=(s.properties||[]).find((i=>"CronExpression"==i.name))||{name:"CronExpression",expressions:{Literal:""},syntax:"Literal"},e=r(t.expressions[t.syntax]||"");i.bodyDisplay=`<p>${e}</p>`}}class J{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDisplaying)}onActivityDisplaying(i){const s=i.activityModel;if("SignalReceived"!==s.type)return;const e=(s.properties||[]).find((i=>"Signal"==i.name))||{name:"Signal",expressions:{Literal:"",syntax:t.Literal}},n=r(e.expressions[e.syntax||t.Literal]);i.bodyDisplay=`<p>${n}</p>`}}class E{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDisplaying)}onActivityDisplaying(i){const s=i.activityModel;if("SendSignal"!==s.type)return;const e=(s.properties||[]).find((i=>"Signal"==i.name))||{name:"Signal",expressions:{Literal:"",syntax:t.Literal}},n=r(e.expressions[e.syntax||t.Literal]);i.bodyDisplay=`<p>${n}</p>`}}class R{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("UserTask"!==s.type)return;const e=t.Json,n=((s.properties||[]).find((i=>"Actions"==i.name))||{expressions:{Json:"[]"},syntax:e}).expressions[e]||"[]";i.outcomes=n.$values?n.$values:Array.isArray(n)?n:o(n)||[]}}class W{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("State"!==s.type)return;const e=s.properties||[],n=e.find((i=>"StateName"==i.name))||{name:"Text",expressions:{Literal:""},syntax:t.Literal};i.displayName=r(n.expressions[n.syntax||"Literal"]||"State");const a=t.Json,p=(e.find((i=>"Transitions"==i.name))||{expressions:{Json:"[]"},syntax:a}).expressions[a]||[];i.outcomes=p.$values?p.$values:Array.isArray(p)?p:o(p)||[]}}class H{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("SendHttpRequest"!==s.type)return;const e=t.Json,n=((s.properties||[]).find((i=>"SupportedStatusCodes"==i.name))||{expressions:{Json:"[]"},syntax:e}).expressions[e]||[];let r=n.$values?n.$values:Array.isArray(n)?n:o(n)||[];r=[...r,"Done","Unsupported Status Code"],i.outcomes=r}}class I{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDisplaying)}onActivityDisplaying(i){const s=i.activityModel;if(!s.type.endsWith("Webhook"))return;const e=(s.properties||[]).find((i=>"Path"==i.name))||{name:"Path",expressions:{Literal:"",syntax:t.Literal}},n=r(e.expressions[e.syntax||t.Literal]);i.bodyDisplay=`<p>${n}</p>`}}class O{constructor(){s.on(i.ActivityDesignDisplaying,this.onActivityDesignDisplaying)}onActivityDesignDisplaying(i){const s=i.activityModel;if("RunWorkflow"!==s.type)return;const e=t.Json,n=((s.properties||[]).find((i=>"PossibleOutcomes"==i.name))||{expressions:{Json:"[]"},syntax:e}).expressions[e]||[];let r=n.$values?n.$values:Array.isArray(n)?n:o(n)||[];r=["Done",...r,"Not Found"],i.outcomes=r}}class F{constructor(){this.plugins=[],this.pluginTypes=[],this.createPlugin=i=>new i(this.elsaStudio),this.pluginTypes=[b,M,l,C,j,T,y,H,u,P,k,J,E,h,O,W,$,R,d,I]}initialize(i){if(!this.initialized){this.elsaStudio=i;for(const i of this.pluginTypes)this.createPlugin(i);this.initialized=!0}}registerPlugins(i){for(const s of i)this.registerPlugin(s)}registerPlugin(i){this.pluginTypes.push(i),this.initialized&&this.createPlugin(i)}}const N=new F;export{F as P,N as p};