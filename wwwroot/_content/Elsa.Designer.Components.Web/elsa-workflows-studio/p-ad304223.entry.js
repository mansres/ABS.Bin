import{r as s,h as e}from"./p-9ac75b7d.js";import{a}from"./p-f0c26962.js";import{T as t}from"./p-7fe465ee.js";import"./p-80452beb.js";import"./p-c912e9a0.js";import"./p-bd8b186e.js";import"./p-adbb57a5.js";import"./p-52f280e6.js";import"./p-83f217d4.js";const l=class{constructor(e){s(this,e),this.editorHeight="6em",this.singleLineMode=!1}async componentWillLoad(){this.currentValue=this.propertyModel.expressions.Literal}async componentDidLoad(){const e=a(this.serverUrl),s=await e.scriptingApi.getJavaScriptTypeDefinitions(this.workflowDefinitionId,this.context);await this.monacoEditor.addJavaScriptLib(s,"defaultLib:lib.es6.d.ts")}mapSyntaxToLanguage(e){switch(e){case"JavaScript":return"javascript";case"Liquid":return"handlebars";case"Literal":default:return"plaintext"}}onMonacoValueChanged(e){this.currentValue=e.value}render(){const a=this.propertyDescriptor,s=this.syntax,t=this.mapSyntaxToLanguage(s),i=a.name,l=i,r=a.hint,o=this.currentValue;return e("div",null,e("div",{class:"elsa-flex"},e("div",{class:""},e("label",{htmlFor:i,class:"elsa-block elsa-text-sm elsa-font-medium elsa-text-gray-700"},a.label||i)),e("div",{class:"elsa-flex-1"},e("div",null,e("div",{class:"hidden sm:elsa-block"},e("nav",{class:"elsa-flex elsa-flex-row-reverse","aria-label":"Tabs"},e("span",{class:"elsa-bg-blue-100 elsa-text-blue-700 elsa-px-3 elsa-py-2 elsa-font-medium elsa-text-sm elsa-rounded-md"},s)))))),e("div",{class:"elsa-mt-1"},e("elsa-monaco",{value:o,language:t,"editor-height":this.editorHeight,"single-line":this.singleLineMode,onValueChanged:e=>this.onMonacoValueChanged(e.detail),ref:e=>this.monacoEditor=e})),r?e("p",{class:"elsa-mt-2 elsa-text-sm elsa-text-gray-500"},r):void 0,e("input",{type:"hidden",name:l,value:o}))}};t.injectProps(l,["serverUrl","workflowDefinitionId"]);export{l as elsa_script_property};